## TIL（Today I Learned）リポジトリ
Githubで毎日草を生やすには  
何かしらのコードを書かかなければ行けないが  
それが難しい場合に役立つリポジトリ  
  
使い方はその日に学んだこと、やったことを書くだけ  
目的の毎日草を生やすことにつながる  
  
参考サイト：[Qiita](https://qiita.com/kumaryoya/items/4cb59023ee8896a328d2)  

---

## Githubプロフィールのcontributions
Githubの草は、自分で確認した場合と他者から見た場合では異なる場合がある  
理由は、Public・Privateリポジトリ  
Privateでは他者から見て確認できないので草が少なく見える恐れがある  
  
対処法１：全てのリポジトリをPublicにする  
対処法２：設定をする  
  
設定方法：  
Githubプロフィールのcontributions→Private contributionsにチェックを入れる  
  
参考サイト：[Qiita](https://qiita.com/kumaryoya/items/4cb59023ee8896a328d2)  

---

## ブリッジ接続とルーター接続（NAT）の違い  
ブリッジ接続：複数のネットワークを一つにまとめ、ルーターを介さず直接通信する  
ルーター接続：外部と内部（IPアドレス（個人））に分ける  
  
**2つは役割を分けて併用される**   

例）企業ネットワークなど  
[外部との境界はルーター接続（分離・防御）  
で内部と分離してセキュリティをたもつ  
  
社内LANの中はブリッジ接続（共有・拡張）  
で同じLAN内を自由に通信させる  

---

## Pythonの仮想環境作成、Flaskを使用しWebアプリを動かしてみる
**実行環境**：Ubuntuのターミナル  
**確認**　　：
1. python3 --version　pythonが入っているか  
2. egrep -c '(vmx|svm)' /proc/cpuinfo　CPUが仮想化機能をサポートしているか

**目標**   ：**ブラウザに HelloWorld と表示させるWebアプリを作成する**  

1. 仮想環境（venv）を作成する  
python3 -m venv env  

**結果**: ensurepip が利用できず、仮想環境の作成に失敗したのでこれを叩く  
sudo apt install python3.12-venv  
  
**結果**: もう一度 python3 -m venv env を試みたら env というディレクトリが作成された  
  
2. 仮想環境に入る（有効化）  
cd env  
source ./bin/activate  
  
3. flaskをインストールする  
pip install flask  
  
4. ファイル作成  
```python
from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello():
    return "Hello World!"

if __name__ == '__main__':
    app.run()
```
6. python3 ファイル名 で実行  
ローカルホストにアクセスしてちゃんと表示されれば成功  
  
7. deactivate で仮想環境を抜ける  
---

## テンプレートエンジン pug について  
Node.js に標準で搭載されているnpm ではなく、pnpm を使用する  
理由 1）依存関係によるディスク容量の節約  
理由 2）インストール速度  
理由 3）フラットではない node_modules ディレクトリ  
  
1. pnpm -v               ：pnpmが入っているか  
2. pnpm add pug          ：パッケージをインストール  
3. pnpm add -D @types/pug：型情報入りパッケージをインストール  
  
**POINT!**  
`<h1></h1>`のように閉じタグが不要で、インデントで閉じたか判断している  
  
**【インストール】**  
index.pug  
``` 
doctype html
html(lang="ja")
   head
       meta(charset="UTF-8")
       title= title
       style. 
           h1 {
               font-size: 60pt;
               color: #eee;
               text-align: right;
               margin: 0;
           }
           body {
               font-size: 14pt;
               color: #999;
               margin: 5px;
           }
   body
       header
           h1= title
       main
           p= "これはPugを使ったWebページです。"
```
app.ts  
``` typescript 
import http from "node:http"
import pug from 'pug'

const server = http.createServer(getFromClient)
server.listen(3210)

async function getFromClient(req: http.IncomingMessage, res: http.ServerResponse) {
   const data = pug.renderFile('./index.pug', {
       title: 'Index'
   })
   res.writeHead(200, {'Content-Type': 'text/html; charset=utf-8'})
   res.write(data)
   res.end()
}
```
**【比較】**  
EJS は「普通の HTML にテンプレート機能を追加したもの」  
Pug は「HTML をもっと簡潔に書ける独自記法のテンプレートエンジン」  
